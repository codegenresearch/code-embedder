import argparse from loguru import logger from src.code_embedding import CodeEmbedder, ScriptMetadataExtractor, ScriptContentReader class CommandLineInterface: def __init__(self): self.parser = argparse.ArgumentParser() self.parser.add_argument( "--readme-paths", nargs="+", type=str, help="Paths to Readme files", default=["README.md"] ) def parse_arguments(self): return self.parser.parse_args() class Application: def __init__(self, args): self.readme_paths = args.readme_paths self.code_embedder = CodeEmbedder( readme_paths=self.readme_paths, script_metadata_extractor=ScriptMetadataExtractor(), script_content_reader=ScriptContentReader(), ) def run(self): self.code_embedder() logger.info("Code Embedder finished successfully.") if __name__ == "__main__": cli = CommandLineInterface() args = cli.parse_arguments() app = Application(args) app.run()